<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Logout - ChatBot Interface</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="sections.css">
    <script type="text/javascript" src="mode.js" defer></script>
</head>
<body>
    
<div class="container">
  <!-- Mobile Menu Button -->
  <button class="mobile-menu-btn" id="mobileMenuBtn">
    <span></span>
    <span></span>
    <span></span>
  </button>
  
  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
    <h2>CHAT BoT</h2>
    <span class="span"></span>
        <ul class="menu">
            <li>
                <img src="chat.svg" alt="">
                <a href="index.html"><span>Chat Generator</span></a>
            </li>
            <li>
                <img src="feedback.svg" alt="">
                <a href="feedback.html"><span>Feedback</span></a>
            </li>
            <li>
                <img src="library.svg" alt="">
                <a href="prompt-library.html"><span>Prompt Library</span></a>
            </li>
             <li>
                <img src="mysaves.svg" alt="">
                <a href="my-saves.html"><span>My Saves</span></a>
            </li>
             <li>
                <img src="favourites.svg" alt="">
                <a href="favorite.html"><span>Favorite</span></a>
            </li>
            <li>
                <img src="history.svg" alt="">
                <a href="history.html"><span>History</span></a>
            </li>
            <li>
                <img src="statistics.svg" alt="">
                <a href="statistics.html"><span>Statistics</span></a>
            </li>
            <span class="span"></span>
            <li>
                <img src="settings.svg" alt="">
                <a href="settings.html"><span>Settings</span></a>
            </li>
            <li class="active">
                <img src="logout.svg" alt="">
                <a href="logout.html"><span>Log Out</span></a>
            </li>
        </ul>
    <div class="user-profile">
      <p><strong>Adam Williams</strong></p>
      <button class="upgrade-btn">Upgrade to Pro</button>
    </div>
  </div>

  <!-- Logout Section -->
  <div class="section-main logout-section">
    <div class="logout-container">
      <div class="logout-icon">
        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.59L17 17L22 12L17 7Z" fill="#10b981"/>
          <path d="M19 19H5V5H19V3H5C3.89 3 3 3.89 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V17H19V19Z" fill="#10b981"/>
        </svg>
      </div>
      
      <div class="logout-content">
        <h1>Ready to Log Out?</h1>
        <p>Are you sure you want to sign out of your ChatBot account?</p>
        
        <div class="logout-options">
          <div class="option-card">
            <h3>üîí Secure Logout</h3>
            <p>Sign out and clear all session data for maximum security</p>
            <button class="logout-btn secure" data-type="secure">Secure Logout</button>
          </div>
          
          <div class="option-card">
            <h3>üíæ Quick Logout</h3>
            <p>Sign out but keep your preferences and recent activity</p>
            <button class="logout-btn quick" data-type="quick">Quick Logout</button>
          </div>
        </div>
        
        <div class="logout-info">
          <div class="info-item">
            <div class="info-icon">üí¨</div>
            <div class="info-text">
              <h4>Your conversations are saved</h4>
              <p>All your chat history will be available when you return</p>
            </div>
          </div>
          
          <div class="info-item">
            <div class="info-icon">‚öôÔ∏è</div>
            <div class="info-text">
              <h4>Settings preserved</h4>
              <p>Your preferences and customizations will remain intact</p>
            </div>
          </div>
          
          <div class="info-item">
            <div class="info-icon">‚≠ê</div>
            <div class="info-text">
              <h4>Favorites and saves</h4>
              <p>Your saved conversations and favorites are secure</p>
            </div>
          </div>
        </div>
        
        <div class="logout-actions">
          <button class="cancel-btn">Cancel</button>
          <div class="logout-timer">
            <span>Auto-logout in: <span id="countdown">60</span>s</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Logout Success Modal -->
    <div class="logout-modal" id="logoutModal" style="display: none;">
      <div class="modal-content">
        <div class="modal-icon">
          <svg width="60" height="60" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="#10b981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <h2>Successfully Logged Out</h2>
        <p>Thank you for using ChatBot. See you next time!</p>
        <div class="modal-actions">
          <button class="login-again-btn">Login Again</button>
          <button class="close-tab-btn">Close Tab</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const logoutButtons = document.querySelectorAll('.logout-btn');
    const cancelBtn = document.querySelector('.cancel-btn');
    const logoutModal = document.getElementById('logoutModal');
    const countdownElement = document.getElementById('countdown');
    const loginAgainBtn = document.querySelector('.login-again-btn');
    const closeTabBtn = document.querySelector('.close-tab-btn');
    
    let countdownTimer;
    let countdownValue = 60;
    
    // Start countdown timer
    function startCountdown() {
        countdownTimer = setInterval(() => {
            countdownValue--;
            countdownElement.textContent = countdownValue;
            
            if (countdownValue <= 0) {
                clearInterval(countdownTimer);
                performLogout('auto');
            }
        }, 1000);
    }
    
    // Stop countdown timer
    function stopCountdown() {
        if (countdownTimer) {
            clearInterval(countdownTimer);
        }
    }
    
    // Perform logout
    function performLogout(type) {
        stopCountdown();
        
        // Show loading state
        document.querySelector('.logout-container').style.opacity = '0.5';
        
        // Simulate logout process
        setTimeout(() => {
            if (type === 'secure') {
                // Clear all data for secure logout
                localStorage.clear();
                sessionStorage.clear();
                
                // Clear cookies (if any)
                document.cookie.split(";").forEach(function(c) { 
                    document.cookie = c.replace(/^ +/, "").replace(/=.*/, "=;expires=" + new Date().toUTCString() + ";path=/"); 
                });
            } else if (type === 'quick') {
                // Only clear session data for quick logout
                sessionStorage.clear();
                localStorage.removeItem('userSession');
            }
            
            // Show success modal
            logoutModal.style.display = 'flex';
            
            // Add animation
            setTimeout(() => {
                logoutModal.querySelector('.modal-content').style.animation = 'slideInUp 0.5s ease';
            }, 100);
            
        }, 1500);
    }
    
    // Logout button handlers
    logoutButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            const logoutType = this.dataset.type;
            
            // Add confirmation for secure logout
            if (logoutType === 'secure') {
                if (confirm('Secure logout will clear all your local data. Continue?')) {
                    performLogout(logoutType);
                }
            } else {
                performLogout(logoutType);
            }
        });
    });
    
    // Cancel button handler
    cancelBtn.addEventListener('click', function() {
        stopCountdown();
        window.location.href = 'index.html';
    });
    
    // Login again button handler
    loginAgainBtn.addEventListener('click', function() {
        // Redirect to login page or main page
        window.location.href = 'index.html';
    });
    
    // Close tab button handler
    closeTabBtn.addEventListener('click', function() {
        // Try to close the tab/window
        if (confirm('Close this tab?')) {
            window.close();
            
            // If window.close() doesn't work (some browsers block it)
            setTimeout(() => {
                window.location.href = 'about:blank';
            }, 1000);
        }
    });
    
    // Handle page visibility change (pause countdown when tab is not active)
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            stopCountdown();
        } else {
            if (countdownValue > 0) {
                startCountdown();
            }
        }
    });
    
    // Handle beforeunload event
    window.addEventListener('beforeunload', function(e) {
        if (countdownValue > 0) {
            e.preventDefault();
            e.returnValue = 'Are you sure you want to leave? You will be logged out.';
        }
    });
    
    // Keyboard shortcuts
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            cancelBtn.click();
        } else if (e.key === 'Enter') {
            if (logoutModal.style.display === 'none') {
                document.querySelector('.logout-btn.quick').click();
            }
        }
    });
    
    // Start the countdown when page loads
    startCountdown();
    
    // Add hover effects to option cards
    document.querySelectorAll('.option-card').forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
            this.style.boxShadow = '0 8px 25px rgba(16, 185, 129, 0.15)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.1)';
        });
    });
    
    // Add click animation to buttons
    document.querySelectorAll('button').forEach(btn => {
        btn.addEventListener('click', function() {
            this.style.transform = 'scale(0.95)';
            setTimeout(() => {
                this.style.transform = 'scale(1)';
            }, 150);
        });
    });
});
</script>

</body>
</html>